@startuml
' Configuración general para mejorar el layout
skinparam packageStyle rectangle
skinparam linetype ortho
skinparam nodesep 60
skinparam ranksep 50
skinparam padding 2
skinparam roundcorner 5

' Layouts específicos para reducir distancias
top to bottom direction

' Agrupar elementos relacionados verticalmente
together {
  interface Usuario {
    nombre: String
    email: String
    teléfono: String
    direccion: String
  }
  interface Pedido {
    fechaInicio: Date
    fechaEntrega: Date
    cantidadProducto: Integer
    precioTotal: Double
    direccionEntrega: String
  }
}

together {
  class Cliente {
    tiempoDeEntrega: Time
  }
  class PedidoCliente {
    fechaPreparacion: Date
    fechaFinalizacion: Date
  }
}

together {
  class Proveedor {
    tiempoDeEspera: Time
  }
  class PedidoProveedor {
    tiempoPedido: Time
  }
}

together {
  interface Producto {
    nombre: String
    precio: Double
    vidaUtil: Time
  }
  class PedidoProducto {
    unidades: Integer
    precio: Double
  }
}

together {
  class MateriaPrima {
    cantidadDisponible: Double
    tiempoProcesamiento: Time
  }
  class Semielaborado {
    stock: Double
    tiempoElaboracion: Time 
    tiempoReposo: Time
    maquinariaNecesaria: List<Maquinaria>
  }
  class ProductoFinal {
    unidades: Integer
    tiempoElaboracion: Time
    tiempoReposo: Time
    maquinariaNecesaria: List<Maquinaria>
    vidaUtilConsumida: Time
  }
}

together {
  class Maquinaria {
    nombre: String
    tiempoLimpieza: Time
    tiempoPorProducto: Time
  }
  class MaquinariaProducto {
    tiempoUso: Double
  }
}

class Método {
  numeroReferencia: Integer
  productosPrevios: List<Producto>
  cantidadProducto: Integer
}

' Relaciones
Usuario <|-- Cliente
Usuario <|-- Proveedor
Pedido <|-- PedidoCliente
Pedido <|-- PedidoProveedor
Producto <|-- MateriaPrima
Producto <|-- Semielaborado
Producto <|-- ProductoFinal

Cliente "1" --> "*" PedidoCliente : realiza >
Proveedor "1" --> "*" PedidoProveedor : envía >
Pedido "1" *-- "*" PedidoProducto
Producto "1" -- "*" PedidoProducto : contiene >

Método "*" -- "1" Producto : posee >
Método "*" -- "*" Producto : ingredientes >

Semielaborado "1" *-- "*" MaquinariaProducto
ProductoFinal "1" *-- "*" MaquinariaProducto
Maquinaria "1" -- "*" MaquinariaProducto : contiene >

@enduml